<!DOCTYPE html>  
<html lang="ar" dir="rtl">  
<head>  
  <meta charset="UTF-8" />  
  <meta name="viewport" content="width=device-width, initial-scale=1" />  
  <title>متجر كبلو</title>  
  <style>  
    @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap');  
    @import url('https://fonts.googleapis.com/css2?family=Amiri&display=swap');  
  
    body {  
      font-family: 'Cairo', sans-serif;  
      margin: 0;  
      padding: 40px 20px;  
      background-color: #E1F5FE;  
      min-height: 100vh;  
      display: flex;  
      flex-direction: column;  
      align-items: center;  
      color: #000;  
      text-align: center;  
      position: relative;  
    }  
  
    .store-name {  
      position: fixed;  
      top: 70px;  
      right: 20px;  
      font-family: 'Amiri', serif;  
      font-size: 2.5em;  
      font-weight: bold;  
      color: #000;  
      user-select: none;  
      background-color: rgba(255, 255, 255, 0.7);  
      padding: 10px 20px;  
      border-radius: 12px;  
      box-shadow: 0 0 10px rgba(0,0,0,0.1);  
      z-index: 1000;  
      display: inline-block;  
      vertical-align: middle;  
    }  
  
    #backToHomeBtn {  
      background-color: #f44336;  
      color: white;  
      border: none;  
      padding: 10px 20px;  
      border-radius: 12px;  
      font-size: 1.1em;  
      cursor: pointer;  
      transition: background-color 0.3s;  
      display: none; /* مخفي افتراضياً */  
      position: fixed;  
      top: 75px; /* بمحاذاة اسم المتجر */  
      right: calc(20px + 180px); /* جهة اليمين، على حسب عرض اسم المتجر + مسافة */  
      z-index: 1001;  
    }  
  
    #backToHomeBtn:hover {  
      background-color: #d32f2f;  
    }  
  
    .navbar {  
      background-color: #2196F3;  
      width: 100%;  
      position: fixed;  
      top: 0;  
      left: 0;  
      height: 50px;  
      display: flex;  
      justify-content: flex-start;  
      align-items: center;  
      padding: 0 20px;  
      box-sizing: border-box;  
      z-index: 1100;  
      gap: 15px;  
      direction: rtl;  
    }  
  
    .navbar a {  
      color: #fff;  
      text-decoration: none;  
      font-weight: bold;  
      padding: 10px 15px;  
      border-radius: 8px;  
      transition: background-color 0.3s;  
      font-size: 1em;  
    }  
  
    .navbar a:hover {  
      background-color: #1565C0;  
    }  
  
    .products-container {  
      display: flex;  
      flex-wrap: wrap;  
      justify-content: center;  
      gap: 30px;  
      max-width: 1000px;  
      margin-bottom: 40px;  
      margin-top: 100px;  
      flex-direction: column;  
      align-items: center;  
    }  
  
    .product-list {  
      display: flex;  
      flex-wrap: wrap;  
      justify-content: center;  
      gap: 30px;  
      max-width: 1000px;  
      width: 100%;  
    }  
  
    .product-card {  
      background-color: #ffffff;  
      border: 2px solid #2196F3;  
      border-radius: 20px;  
      width: 220px;  
      padding: 20px;  
      transition: transform 0.3s;  
      text-decoration: none;  
      color: inherit;  
      cursor: pointer;  
    }  
  
    .product-card:hover {  
      transform: scale(1.05);  
    }  
  
    .product-card img {  
      width: 100%;  
      border-radius: 10px;  
      margin-bottom: 15px;  
    }  
  
    .product-title {  
      font-size: 1.2em;  
      font-weight: bold;  
      margin: 10px 0 5px;  
      color: #000;  
    }  
  
    .product-price {  
      font-size: 1em;  
      color: #333;  
      margin: 5px 0;  
    }  
  
    .admin-button {  
      background-color: #2196F3;  
      border: none;  
      color: white;  
      font-size: 1.2em;  
      padding: 12px 25px;  
      border-radius: 12px;  
      text-decoration: none;  
      margin-top: 30px;  
      transition: 0.3s;  
      position: fixed;  
      top: 20px;  
      left: 20px;  
      z-index: 1000;  
    }  
  
    .admin-button:hover {  
      background-color: #1565C0;  
      transform: scale(1.05);  
    }  
  
    @media (max-width: 600px) {  
      .products-container {  
        flex-direction: column;  
        align-items: center;  
      }  
      .store-name {  
        font-size: 2em;  
        padding: 8px 16px;  
      }  
      #backToHomeBtn {  
        top: 60px;  
        right: calc(20px + 130px);  
        padding: 8px 16px;  
        font-size: 1em;  
      }  
      .admin-button {  
        font-size: 1em;  
        padding: 10px 20px;  
      }  
      .navbar {  
        overflow-x: auto;  
        gap: 10px;  
      }  
      .navbar a {  
        padding: 8px 12px;  
        font-size: 0.9em;  
      }  
    }  
  </style>  
</head>  
<body>  
  
  <nav class="navbar">  
    <a href="#men">رجال</a>  
    <a href="#women">نساء</a>  
    <a href="#kids">أطفال</a>  
    <a href="#shoes">أحذية</a>  
    <a href="#accessories">إكسسوارات</a>  
    <a href="#offers">عروض</a>  
  
    <input  
      type="text"  
      id="searchInput"  
      placeholder="ابحث عن منتج..."  
      style="  
        margin-left: auto;  
        padding: 6px 10px;  
        border-radius: 12px;  
        border: none;  
        font-size: 1em;  
        width: 200px;  
        max-width: 40vw;  
      "  
    />  
  </nav>  
  
  <div class="store-name">  
    متجر كبلو  
  </div>  
  <button id="backToHomeBtn">⬅ العودة للرئيسية</button>  
  
  <div class="products-container" id="productsContainer">  
    <div class="product-list" id="productList"></div>  
  </div>  
  
  <a href="login.html" class="admin-button">🔐 دخول الإدارة</a>  
  
  <script>  
    const products = JSON.parse(localStorage.getItem('products')) || [];  
  
    const container = document.getElementById('productList');  
    const backBtn = document.getElementById('backToHomeBtn');  
    const searchInput = document.getElementById('searchInput');  
  
    // عرض المنتجات  
    function renderProducts(productList) {  
      container.innerHTML = '';  
  
      if (productList.length === 0) {  
        container.innerHTML = '<p>لا توجد منتجات حالياً.</p>';  
      } else {  
        productList.forEach(product => {  
          const card = document.createElement('div');  
          card.className = 'product-card';  
          card.innerHTML = `  
            <img src="${product.image}" alt="${product.name}">  
            <div class="product-title">${product.name}</div>  
            <div class="product-price">${product.price} ريال</div>  
          `;  
  
          card.addEventListener('click', () => {  
            localStorage.setItem('selectedProduct', JSON.stringify(product));  
            window.location.href = 'products.html';  
          });  
  
          container.appendChild(card);  
        });  
      }  
    }  
  
    // عرض كل المنتجات في الصفحة الرئيسية  
    function showAllProducts() {  
      renderProducts(products);  
      backBtn.style.display = 'none'; // اخفاء زر الرجوع  
    }  
  
    // عرض قسم معين  
    function showCategory(category) {  
      const filtered = products.filter(p => p.category === category);  
      renderProducts(filtered);  
      backBtn.style.display = 'inline-block'; // اظهار زر الرجوع  
    }  
  
    // حدث زر الرجوع للرئيسية  
    backBtn.addEventListener('click', () => {  
      window.location.hash = '';  
      showAllProducts();  
    });  
  
    // حدث روابط الأقسام  
    document.querySelectorAll('.navbar a').forEach(link => {  
      link.addEventListener('click', e => {  
        const href = link.getAttribute('href');  
        if (href.startsWith('#')) {  
          e.preventDefault();  
          const category = href.slice(1);  
          if (['men', 'women', 'kids', 'shoes', 'accessories', 'offers'].includes(category)) {  
            window.location.hash = href;  
            showCategory(category);  
          }  
        }  
      });  
    });  
  
    // عند تحميل الصفحة  
    window.addEventListener('DOMContentLoaded', () => {  
      if (!window.location.hash || window.location.hash === '') {  
        showAllProducts();  
      } else {  
        const cat = window.location.hash.slice(1);  
        showCategory(cat);  
      }  
    });  
  
    // عند تغير الهَاش في الرابط (مثلاً من زر الرجوع في المتصفح)  
    window.addEventListener('hashchange', () => {  
      if (!window.location.hash || window.location.hash === '') {  
        showAllProducts();  
      } else {  
        const cat = window.location.hash.slice(1);  
        showCategory(cat);  
      }  
    });  
  
    // بحث في المنتجات  
    searchInput.addEventListener('input', function() {  
      const query = this.value.trim().toLowerCase();  
  
      if (!query) {  
        // إعادة عرض حسب الهَاش الحالي  
        if (!window.location.hash || window.location.hash === '') {  
          showAllProducts();  
        } else {  
          showCategory(window.location.hash.slice(1));  
        }  
        return;  
      }  
  
      const filteredProducts = products.filter(product =>  
        product.name.toLowerCase().includes(query) ||  
        product.description.toLowerCase().includes(query)  
      );  
  
      renderProducts(filteredProducts);  
      backBtn.style.display = 'inline-block';  
    });  
  </script>  
  
</body>  
</html>